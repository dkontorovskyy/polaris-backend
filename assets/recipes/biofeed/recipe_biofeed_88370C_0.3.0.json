{
  "version": "0.3.0",
  "name": "Media preparation for medium 88370C",
  "description": "This recipe uses the biofeed module for preparing medium 88370C in 9 steps. This recipe approximately lasts 75min.",
  "author": "Markus Graube <markus.graube@tu-dresden.de>",
  "initial_step": "S0.Rinsing",
  "steps": [
    {
      "name": "S0.Rinsing",
      "operations": [
        {
          "service": "Rinsing_Quality_Based",
          "command": "start",
          "parameter": [
            {
              "name": "VolumeFraction",
              "value": 0.1
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S1.AddWater",
          "condition": {
            "type": "state",
            "service": "Rinsing_Quality_Based",
            "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S1.AddWater",
      "operations": [
        {
          "service": "FeedWater",
          "command": "start",
          "parameter": [
            {
              "name": "TargetVolume",
              "value": 4000
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S2.AddPowder",
          "condition": {
            "type": "state",
            "service": "FeedWater",
            "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S2.AddPowder",
      "operations": [
        {
          "service": "FeedPowder",
          "command": "start",
          "parameter": [
            {
              "name": "FeedMass",
              "value": 142.85
            },
            {
              "name": "FeedDuration",
              "value": 60
            }
          ]
        },
        {
          "service": "Stirring",
          "command": "start",
          "parameter": [
            {
              "name": "StirringRotationSpeed",
              "value": 100
            },
            {
              "name": "StirringDuration",
              "value": 1800
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S3.pH4.5",
          "condition": {
                "type": "state",
                "service": "Stirring",
                "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S3.pH4.5",
      "operations": [
        {
          "service": "pHAdjustment",
          "command": "start",
          "parameter": [
            {
              "name": "DelayTime",
              "value": 5
            },
            {
              "name": "FeedVolume",
              "value": 1
            },
            {
              "name": "pHValue",
              "value": 4.5
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S4.addBicarb",
          "condition": {
            "type": "state",
            "service": "pHAdjustment",
            "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S4.addBicarb",
      "operations": [
        {
          "service": "FeedBufferSolution",
          "command": "start",
          "parameter": [
            {
              "name": "Feed_Volume",
              "value": 83
            }
          ]
        },
        {
          "service": "Stirring",
          "command": "start",
          "parameter": [
            {
              "name": "StirringRotationSpeed",
              "value": 100
            },
            {
              "name": "StirringDuration",
              "value": 1800
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S5.ph9",
          "condition": {
            "type": "state",
            "service": "Stirring",
            "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S5.ph9",
      "operations": [
        {
          "service": "pHAdjustment",
          "command": "start",
          "parameter": [
            {
              "name": "pHValue",
              "value": 9
            },
            {
              "name": "FeedVolume",
              "value": 1
            },
            {
              "name": "DelayTime",
              "value": 5
            }
          ]
        },
        {
          "service": "Stirring",
          "command": "start",
          "parameter": [
            {
              "name": "StirringRotationSpeed",
              "value": 100
            },
            {
              "name": "StirringDuration",
              "value": 600
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S6.ph7",
          "condition": {
            "type": "state",
            "service": "pHAdjustment",
            "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S6.ph7",
      "operations": [
        {
          "service": "pHAdjustment",
          "command": "start",
          "parameter": [
            {
              "name": "pHValue",
              "value": 7.3
            },
            {
              "name": "FeedVolume",
              "value": 1
            },
            {
              "name": "DelayTime",
              "value": 5
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S7.FinalVolume",
          "condition": {
            "type": "state",
            "service": "pHAdjustment",
            "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S7.FinalVolume",
      "operations": [
        {
          "service": "FeedWater",
          "command": "start",
          "parameter": [
            {
              "name": "TargetVolume",
              "value": 5000
            }
          ]
        }
      ],
      "transitions": [
        {
          "next_step": "S8.FiltrationToStorage",
          "condition": {
            "type": "state",
            "service": "FeedWater",
            "state": "completed"
          }
        }
      ]
    },
    {
      "name": "S8.FiltrationToStorage",
      "operations": [
        {
          "service": "FiltrationToStorageQualityBased",
          "command": "start"
        }
      ],
      "transitions": [
        {
          "next_step": "completed",
          "condition": {
            "type": "state",
            "service": "FiltrationToStorageQualityBased",
            "state": "completed"
          }
        }
      ]
    }
  ]
}