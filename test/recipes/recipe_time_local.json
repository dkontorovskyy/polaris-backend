{
  "version": "1.0",
  "name": "Simples Testrezept",
  "author": "Markus Graube",
  "modules": {
    "Sim": {
      "endpoint": "opc.tcp://localhost:53530/OPCUA/SimulationServer",
      "name": "Simulationserver",
      "variables": {
        "test": "ns=3;s=Int32"
      },
      "services": {
        "Dose": {
          "name": "Dosieren",
          "command": "ns=2;i=3125",
          "status": "ns=2;i=3126",
          "strategy": {
            "nodeid": "ns=2;i=3127",
            "value": 1
          },
          "parameter": {
            "volume": "ns=2;i=3000"
          }
        }
      }
    }
  },
  "initial_step": "S1",
  "steps": {
    "S1": {
      "id": "S1",
      "name": "S1",
      "operations": [
        {
          "module": "Sim",
          "service": "Dose",
          "command": "start",
          "parameter": {
            "volume": 0.5
          }
        }
      ],
      "transitions": [
        {
          "next_step": "S2",
          "condition": {
            "type": "time",
            "duration": 2
          }
        }
      ]
    },
    "S2": {
      "name": "S2",
      "operations": [],
      "transitions": [
        {
          "next_step": "S3",
          "condition": {
            "type": "variable",
            "module": "Sim",
            "variable": "test",
            "value": 22
          }
        }
      ]
    },
    "S3": {
      "name": "S3",
      "operations": [],
      "transitions": [
        {
          "next_step": "finished",
          "condition": {
            "type": "time",
            "duration": 2
          }
        }
      ]
    }
  }
}
